#Â VPC module - Example: Advanced VPC

This example builds an Amazon VPC with advanced functionality:

* IPv4-only VPC.
    * NAT gateway configured only in 1 AZ.
* 4 VPC subnets - 1 public (dual-stack), 3 private (IPv4-only, dual-stack, and IPv6-only)
    * Subnet CIDRs calculated to optimize IPv4 adress space (variable `optimize_subnet_cidr_ranges`)
* Flow logs enabled (destination Amazon S3)
* Secondary IPv4 CIDR block.
* Routing - egress traffic through NAT gateways in private subnets (check also the configuration on NAT gateway routing when building the subnets with secondary CIDR block).